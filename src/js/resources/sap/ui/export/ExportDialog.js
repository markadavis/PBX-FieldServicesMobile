/*!
 * SAPUI5

		(c) Copyright 2009-2020 SAP SE. All rights reserved
	
 */
sap.ui.define(['sap/ui/core/library','sap/m/library','sap/m/Dialog','sap/m/Button','sap/m/ProgressIndicator','sap/m/Text','sap/m/MessageBox'],function(c,M,D,B,P,T,a){'use strict';var V=c.ValueState;var b=M.DialogType;var d=M.ButtonType;var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.export",true);function e(){return new Promise(function(R,g){var h;r.then(function(o){var i=new B({text:o.getText("CANCEL_BUTTON"),press:function(){if(h&&h.oncancel){h.oncancel();}h.finish();}});var p=new P({displayAnimation:false,displayValue:'0 / 0',showValue:true,height:"0.75rem",state:V.Information});p.addStyleClass("sapUiMediumMarginTop");var m=new T({text:o.getText("PROGRESS_FETCHING_MSG")});h=new D({title:o.getText("PROGRESS_TITLE"),type:b.Message,contentWidth:"500px",content:[m,p],endButton:i,ariaLabelledBy:[m]});h.updateStatus=function(j,F,t){if(j>=100){i.setEnabled(false);m.setText(o.getText("PROGRESS_BUNDLE_MSG"));}p.setPercentValue(j);if(F&&t){p.setDisplayValue(''+F+' / '+t);}};h.finish=function(){h.close();h.destroy();};R(h);});});}function s(p){return new Promise(function(R,g){r.then(function(o){var C,w,W,h;C=false;h=p.rows?o.getText("SIZE_WARNING_MSG",[p.rows,p.columns]):o.getText("NO_COUNT_WARNING_MSG");W=new T({text:h});w=new D({title:o.getText('PROGRESS_TITLE'),type:b.Message,state:V.Warning,content:W,ariaLabelledBy:W,endButton:new B({type:d.Transparent,text:o.getText("CANCEL_BUTTON"),press:function(){w.close();}}),beginButton:new B({type:d.Emphasized,text:o.getText("EXPORT_BUTTON"),press:function(){C=true;w.close();}}),afterClose:function(){w.destroy();C?R():g();}});w.open();});});}function f(m){r.then(function(R){var g=m||R.getText('PROGRESS_ERROR_DEFAULT');a.error(R.getText("PROGRESS_ERROR_MSG")+"\n\n"+g,{title:R.getText("PROGRESS_ERROR_TITLE")});});}return{getProgressDialog:e,showErrorMessage:f,showWarningDialog:s};},true);
