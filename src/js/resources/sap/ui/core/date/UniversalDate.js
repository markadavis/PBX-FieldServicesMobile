/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/base/util/values','sap/ui/base/Object','sap/ui/core/LocaleData','./_Calendars','./CalendarUtils','./CalendarWeekNumbering'],function(v,B,L,_,C,a){"use strict";var U=B.extend("sap.ui.core.date.UniversalDate",{constructor:function(){var h=U.getClass();return this.createDate(h,arguments);}});U.UTC=function(){var h=U.getClass();return h.UTC.apply(h,arguments);};U.now=function(){return Date.now();};U.prototype.createDate=function(h,A){switch(A.length){case 0:return new h();case 1:return new h(A[0]instanceof Date?A[0].getTime():A[0]);case 2:return new h(A[0],A[1]);case 3:return new h(A[0],A[1],A[2]);case 4:return new h(A[0],A[1],A[2],A[3]);case 5:return new h(A[0],A[1],A[2],A[3],A[4]);case 6:return new h(A[0],A[1],A[2],A[3],A[4],A[5]);case 7:return new h(A[0],A[1],A[2],A[3],A[4],A[5],A[6]);}};U.getInstance=function(D,s){var h,i;if(D instanceof U){D=D.getJSDate();}else if(!D){D=new Date();}if(!s){s=sap.ui.getCore().getConfiguration().getCalendarType();}h=U.getClass(s);i=Object.create(h.prototype);i.oDate=D;i.sCalendarType=s;return i;};U.getClass=function(s){if(!s){s=sap.ui.getCore().getConfiguration().getCalendarType();}return _.get(s);};["getDate","getMonth","getFullYear","getYear","getDay","getHours","getMinutes","getSeconds","getMilliseconds","getUTCDate","getUTCMonth","getUTCFullYear","getUTCDay","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","getTime","valueOf","getTimezoneOffset","toString","toDateString","setDate","setFullYear","setYear","setMonth","setHours","setMinutes","setSeconds","setMilliseconds","setUTCDate","setUTCFullYear","setUTCMonth","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds"].forEach(function(n){U.prototype[n]=function(){return this.oDate[n].apply(this.oDate,arguments);};});U.prototype.getJSDate=function(){return this.oDate;};U.prototype.getCalendarType=function(){return this.sCalendarType;};U.prototype.getEra=function(){return U.getEraByDate(this.sCalendarType,this.oDate.getFullYear(),this.oDate.getMonth(),this.oDate.getDate());};U.prototype.setEra=function(E){};U.prototype.getUTCEra=function(){return U.getEraByDate(this.sCalendarType,this.oDate.getUTCFullYear(),this.oDate.getUTCMonth(),this.oDate.getUTCDate());};U.prototype.setUTCEra=function(E){};U.prototype.getWeek=function(l,s){c(s);return U.getWeekByDate(this.sCalendarType,this.getFullYear(),this.getMonth(),this.getDate(),l,s);};U.prototype.setWeek=function(w,l,s){c(s);var D=U.getFirstDateOfWeek(this.sCalendarType,w.year||this.getFullYear(),w.week,l,s);this.setFullYear(D.year,D.month,D.day);};U.prototype.getUTCWeek=function(l,s){c(s);return U.getWeekByDate(this.sCalendarType,this.getUTCFullYear(),this.getUTCMonth(),this.getUTCDate(),l,s);};U.prototype.setUTCWeek=function(w,l,s){c(s);var D=U.getFirstDateOfWeek(this.sCalendarType,w.year||this.getFullYear(),w.week,l,s);this.setUTCFullYear(D.year,D.month,D.day);};U.prototype.getQuarter=function(){return Math.floor((this.getMonth()/3));};U.prototype.getUTCQuarter=function(){return Math.floor((this.getUTCMonth()/3));};U.prototype.getDayPeriod=function(){if(this.getHours()<12){return 0;}else{return 1;}};U.prototype.getUTCDayPeriod=function(){if(this.getUTCHours()<12){return 0;}else{return 1;}};U.prototype.getTimezoneShort=function(){if(this.oDate.getTimezoneShort){return this.oDate.getTimezoneShort();}};U.prototype.getTimezoneLong=function(){if(this.oDate.getTimezoneLong){return this.oDate.getTimezoneLong();}};var m=7*24*60*60*1000;U.getWeekByDate=function(s,y,M,D,l,h){c(h);l=l||sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var i=this.getClass(s);var F=g(i,y,l,h);var o=new i(i.UTC(y,M,D));var w,j,n,k,N;var S=b(h,l);if(S){w=d(F,o);}else{j=y-1;n=y+1;k=g(i,j,l,h);N=g(i,n,l,h);if(o>=N){y=n;w=0;}else if(o<F){y=j;w=d(k,o);}else{w=d(F,o);}}return{year:y,week:w};};U.getFirstDateOfWeek=function(s,y,w,l,h){c(h);l=l||sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var i=this.getClass(s);var F=g(i,y,l,h);var D=new i(F.valueOf()+w*m);var S=b(h,l);if(S&&w===0&&F.getUTCFullYear()<y){return{year:y,month:0,day:1};}return{year:D.getUTCFullYear(),month:D.getUTCMonth(),day:D.getUTCDate()};};function b(s,l){l=l||sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();return(!s||s===a.Default)&&l.getLanguage()==="en"&&l.getRegion()==="US";}function c(s){if(s&&v(a).indexOf(s)<0){throw new TypeError("Illegal format option calendarWeekNumbering: '"+s+"'");}}function g(h,y,l,s){l=l||sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var w=C.getWeekConfigurationValues(s,l);var M=w.minimalDaysInFirstWeek;var F=w.firstDayOfWeek;var o=new h(h.UTC(y,0,1));var D=7;if(isNaN(o.getTime())){throw new Error("Could not determine the first day of the week, because the date "+"object is invalid");}while(o.getUTCDay()!==F){o.setUTCDate(o.getUTCDate()-1);D--;}if(D<M){o.setUTCDate(o.getUTCDate()+7);}return o;}function d(F,t){return Math.floor((t.valueOf()-F.valueOf())/m);}var e={};U.getEraByDate=function(s,y,M,D){var E=f(s),t=new Date(0).setUTCFullYear(y,M,D),o;for(var i=E.length-1;i>=0;i--){o=E[i];if(!o){continue;}if(o._start&&t>=o._startInfo.timestamp){return i;}if(o._end&&t<o._endInfo.timestamp){return i;}}};U.getCurrentEra=function(s){var n=new Date();return this.getEraByDate(s,n.getFullYear(),n.getMonth(),n.getDate());};U.getEraStartDate=function(s,E){var h=f(s),o=h[E]||h[0];if(o._start){return o._startInfo;}};function f(s){var l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale(),o=L.getInstance(l),E=e[s];if(!E){var E=o.getEraDates(s);if(!E[0]){E[0]={_start:"1-1-1"};}for(var i=0;i<E.length;i++){var h=E[i];if(!h){continue;}if(h._start){h._startInfo=p(h._start);}if(h._end){h._endInfo=p(h._end);}}e[s]=E;}return E;}function p(D){var P=D.split("-"),y,M,i;if(P[0]==""){y=-parseInt(P[1]);M=parseInt(P[2])-1;i=parseInt(P[3]);}else{y=parseInt(P[0]);M=parseInt(P[1])-1;i=parseInt(P[2]);}return{timestamp:new Date(0).setUTCFullYear(y,M,i),year:y,month:M,day:i};}return U;});
