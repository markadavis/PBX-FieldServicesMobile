/*
 * ! SAPUI5

		(c) Copyright 2009-2020 SAP SE. All rights reserved
	
 */
sap.ui.define(['sap/ui/comp/library','sap/ui/core/Control','sap/ui/layout/form/Form','sap/ui/base/ManagedObjectObserver','sap/base/Log'],function(l,C,F,M,L){"use strict";var P;var T;var O;var a;var b;var B;var c;var m;var S=l.smartform.SmartFormValidationMode;var f={ResponsiveGridLayout:{layout:undefined,path:"sap/ui/layout/form/ResponsiveGridLayout",name:"sap.ui.layout.form.ResponsiveGridLayout",requested:false,loaded:h1,promise:undefined},ResponsiveLayout:{layout:undefined,path:"sap/ui/layout/form/ResponsiveLayout",name:"sap.ui.layout.form.ResponsiveLayout",requested:false,loaded:i1,promise:undefined},ColumnLayout:{layout:undefined,path:"sap/ui/layout/form/ColumnLayout",name:"sap.ui.layout.form.ColumnLayout",requested:false,loaded:j1,promise:undefined}};var s={apiVersion:2,render:function(i,j){i.openStart("div",j);i.class("sapUiCompSmartForm");i.openEnd();var k=j.getAggregation("content");i.renderControl(k);i.close("div");}};var d=C.extend("sap.ui.comp.smartform.SmartForm",{metadata:{library:"sap.ui.comp",designtime:"sap/ui/comp/designtime/smartform/SmartForm.designtime",properties:{title:{type:"string",group:"Misc",defaultValue:null},useHorizontalLayout:{type:"boolean",group:"Misc",defaultValue:null},horizontalLayoutGroupElementMinWidth:{type:"int",group:"Misc",defaultValue:null},checkButton:{type:"boolean",group:"Misc",defaultValue:false},entityType:{type:"string",group:"Misc",defaultValue:null},expandable:{type:"boolean",group:"Misc",defaultValue:false},expanded:{type:"boolean",group:"Misc",defaultValue:null},editTogglable:{type:"boolean",group:"Misc",defaultValue:false},editable:{type:"boolean",group:"Misc",defaultValue:false},ignoredFields:{type:"string",group:"Misc",defaultValue:null},flexEnabled:{type:"boolean",group:"Misc",defaultValue:true},validationMode:{type:"sap.ui.comp.smartform.SmartFormValidationMode",group:"Misc",defaultValue:S.Standard}},defaultAggregation:"groups",aggregations:{groups:{type:"sap.ui.comp.smartform.Group",multiple:true,singularName:"group"},content:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},layout:{type:"sap.ui.comp.smartform.SmartFormLayout",multiple:false},semanticObjectController:{type:"sap.ui.comp.navpopover.SemanticObjectController",multiple:false},customToolbar:{type:"sap.m.Toolbar",multiple:false},toolbar:{type:"sap.m.Toolbar",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{editToggled:{parameters:{editable:{type:"boolean"}}},checked:{parameters:{erroneousFields:{type:"sap.ui.comp.smartfield.SmartField[]"}}}}},renderer:s});d.prototype.init=function(){this._oForm=new F(this.getId()+"--Form");this._oForm.getToolbar=function(){var i=this.getParent();if(i&&!i.getExpandable()){return i._getToolbar();}};this.setAggregation("content",this._oForm);this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.comp");this._oObserver=new M(o.bind(this));this._oObserver.observe(this,{properties:["editTogglable","title","checkButton","useHorizontalLayout","horizontalLayoutGroupElementMinWidth","expandable","expanded"],aggregations:["layout","customData"],associations:["ariaLabelledBy"]});};d.prototype.onBeforeRendering=function(){f1.call(this);};d.prototype.addGroup=function(i){if(!i){return this;}i=this.validateAggregation("groups",i,true);E.call(this,i);this._oForm.addFormContainer(i);_.call(this,i);return this;};d.prototype.getGroups=function(){return this._oForm.getFormContainers();};d.prototype.indexOfGroup=function(i){return this._oForm.indexOfFormContainer(i);};d.prototype.insertGroup=function(i,j){if(!i){return this;}i=this.validateAggregation("groups",i,true);E.call(this,i);this._oForm.insertFormContainer(i,j);_.call(this,i);return this;};d.prototype.removeGroup=function(i){var j=this._oForm.removeFormContainer(i);if(j){j.detachEvent("_visibleChanged",m1,this);H.call(this,j);m1.call(this);}return j;};d.prototype.removeAllGroups=function(){var j=this._oForm.removeAllFormContainers();for(var i=0;i<j.length;i++){j[i].detachEvent("_visibleChanged",m1,this);H.call(this,j[i]);}m1.call(this);return j;};d.prototype.destroyGroups=function(){var j=this.getGroups();for(var i=0;i<j.length;i++){j[i].detachEvent("_visibleChanged",m1,this);}this._oForm.destroyFormContainers();m1.call(this);return this;};function _(i){var j=this.getUseHorizontalLayout();var k=this.getHorizontalLayoutGroupElementMinWidth();i.attachEvent("_visibleChanged",m1,this);if(k!=i.getHorizontalLayoutGroupElementMinWidth){i.setHorizontalLayoutGroupElementMinWidth(k);}if(j!=i.getUseHorizontalLayout()){i.setUseHorizontalLayout(j);}if(j){i._updateGridDataSpan();i._updateLineBreaks();}else{m1.call(this);}}d.prototype._getToolbar=function(){var i=this.getCustomToolbar();return i||this.getAggregation("toolbar");};d.prototype.propagateGridDataSpan=function(){var j=this.getGroups();for(var i=0;i<j.length;i++){var k=j[i];k._updateGridDataSpan();k._updateLineBreaks();}return this;};d.prototype._getGridDataSpanNumbers=function(){var i=this.getLayout();var j;if(i&&i._getGridDataSpanNumbers){j=i._getGridDataSpanNumbers();}return j;};d.prototype._toggleEditMode=function(){var i=this.getEditable();this.setEditable(!i);};d.prototype.check=function(i){var j={considerOnlyVisible:true,handleSuccess:false};if(typeof i==="boolean"){j.considerOnlyVisible=i;}else{j=Object.assign(j,i);}if(this.getValidationMode()===S.Standard){return this._checkClientError(j);}else{return this._checkClientErrorAsync(j);}};d.prototype._checkClientError=function(i){if(i.considerOnlyVisible===undefined){i.considerOnlyVisible=true;}var j=this.getSmartFields(i.considerOnlyVisible,i.considerOnlyVisible);var k=[];var q1=null;j.forEach(function(r1){if(r1.checkClientError({handleSuccess:i.handleSuccess})){if(i.considerOnlyVisible&&r1.getVisible){if(!r1.getVisible()){return;}}q1=r1.getParent();while(q1.getParent){q1=q1.getParent();if(q1.isA("sap.ui.comp.smartform.Group")){if(!q1.getExpanded()){q1.setExpanded(true);}break;}}k.push(r1.getId());}});return k;};d.prototype._checkClientErrorAsync=function(i){var j=this.getSmartFields(i.considerOnlyVisible,i.considerOnlyVisible),k,q1=[],r1;this.setBusy(true);if(i.considerOnlyVisible===undefined){i.considerOnlyVisible=true;}k=j.map(function(s1){if(i.considerOnlyVisible&&!s1.getVisible()){return false;}return s1.checkValuesValidity({handleSuccess:i.handleSuccess}).catch(function(){r1=s1.getParent();while(r1.getParent){r1=r1.getParent();if(r1.isA("sap.ui.comp.smartform.Group")){if(!r1.getExpanded()){r1.setExpanded(true);}break;}}q1.push(s1.getId());});});return Promise.all(k).then(function(){this.setBusy(false);return q1;}.bind(this));};d.prototype._displayError=function(i){var j=this._oRb.getText("FORM_CLIENT_CHECK_ERROR_TITLE");var k=this._oRb.getText("FORM_CLIENT_CHECK_ERROR");if(!c&&!this._bMessageBoxRequested){c=sap.ui.require("sap/m/MessageBox");if(!c){sap.ui.require(["sap/m/MessageBox"],e.bind(this));this._bMessageBoxRequested=true;}}if(c){c.show(k,{icon:c.Icon.ERROR,title:j,styleClass:(this.$()&&this.$().closest(".sapUiSizeCompact").length)?"sapUiSizeCompact":""});}};function e(i){c=i;this._bMessageBoxRequested=false;if(!this._bIsBeingDestroyed){g.call(this);}}function g(){var i=this.check(true);if(i&&i.length>0){this._displayError(i);return true;}return false;}function h(){return this.check(true).then(function(i){if(i&&i.length){this._displayError(i);}return i;}.bind(this));}d.prototype.setEditable=function(i){var j=this.getEditable();i=this.validateProperty("editable",i);if(j===i){return this;}if(!i&&this.hasListeners("editToggled")){if(this.getValidationMode()===S.Standard){if(g.call(this)){return this;}}else{h.call(this).then(function(k){if(k.length){return this.setProperty("editable",true);}n.call(this,i);}.bind(this));return this.setProperty("editable",i);}}this.setProperty("editable",i);n.call(this,i);return this;};function n(i){if(this._oForm){this._oForm.setEditable(i);}this.fireEditToggled({editable:i});if(this._oEditToggleButton){this._oEditToggleButton.setIcon(i?"sap-icon://display":"sap-icon://edit");var j=this._oRb.getText(i?"FORM_TOOLTIP_DISPLAY":"FORM_TOOLTIP_EDIT");this._oEditToggleButton.setTooltip(j);}if(this.getCheckButton()&&i){Z.call(this);}else{$.call(this);}}function o(i){if(i.object==this){if(i.name=="editTogglable"){p.call(this,i.current);}else if(i.name=="title"){q.call(this,i.current);}else if(i.name=="checkButton"){r.call(this,i.current);}else if(i.name=="useHorizontalLayout"){t.call(this,i.current);}else if(i.name=="horizontalLayoutGroupElementMinWidth"){v.call(this,i.current);}else if(i.name=="expanded"){A.call(this,i.current);}else if(i.name=="expandable"){w.call(this,i.current);}else if(i.name=="layout"){u.call(this,i.child,i.mutation);}else if(i.name=="customData"){D.call(this,i.child,i.mutation);}else if(i.name=="ariaLabelledBy"){I.call(this,i.ids,i.mutation);}}else if(i.object.isA("sap.ui.comp.smartform.SmartFormLayout")){p1.call(this,i.object,i.name,i.current,i.old);}}function p(i){if(i){X.call(this);}else{Y.call(this);}N.call(this);}function q(i){if(this._oPanel){this._oPanel.setHeaderText(i);}N.call(this);}function r(i){if(i){Z.call(this);}else{$.call(this);}N.call(this);}function t(i){if(i){this.addStyleClass("sapUiCompSmartFormHorizontalLayout");}else{this.removeStyleClass("sapUiCompSmartFormHorizontalLayout");}var j=this.getGroups();if(j){j.forEach(function(q1){if(q1.getUseHorizontalLayout()!=i){q1.setUseHorizontalLayout(i);}});}var k=this.getLayout();if(i){k1.call(this,k);}else{f1.call(this);k1.call(this,k);}}function u(i,j){if(j==="remove"){this._oObserver.unobserve(i);}else{this._oObserver.observe(i,{properties:true});}if(i.isA("sap.ui.comp.smartform.Layout")){this.propagateGridDataSpan();}f1.call(this);k1.call(this,j==="insert"?i:null);}function v(i){L.error("HorizontalLayoutGroupElementMinWidth is deprecated",this);var j=this.getGroups();if(j){j.forEach(function(k){k.setHorizontalLayoutGroupElementMinWidth(i);});}}d.prototype.getVisibleProperties=function(){var i=[];var j=this.getGroups();if(j){j.forEach(function(k){var q1=k.getGroupElements();if(q1.length>0){q1.forEach(function(r1){var s1=r1.getElements();if(s1.length>0){s1.forEach(function(t1){if(t1.getVisible()){var u1=t1.getBindingPath("value");if(u1){i.push(u1);}}});}});}});}return i;};d.prototype.setCustomToolbar=function(i){var j=this.getCustomToolbar();if(j==i){return this;}U.call(this);Y.call(this);$.call(this);this.setAggregation("customToolbar",i);if(this.getTitle()){N.call(this);}if(this.getEditTogglable()){X.call(this);}if(this.getCheckButton()){Z.call(this);}return this;};d.prototype.destroyCustomToolbar=function(){var i=this.getCustomToolbar();if(i){U.call(this);Y.call(this);$.call(this);}this.destroyAggregation("customToolbar");if(this.getTitle()){N.call(this);}if(this.getEditTogglable()){X.call(this);}if(this.getCheckButton()){Z.call(this);}return this;};function w(i){if(i){if(!P&&!this._bPanelRequested){P=sap.ui.require("sap/m/Panel");if(!P){sap.ui.require(["sap/m/Panel"],y.bind(this));this._bPanelRequested=true;}}if(P){x.call(this);}}else if(this._oPanel){this.setAggregation("content",this._oForm);this._oPanel.destroy();this._oPanel=null;}N.call(this);}function x(){this._oPanel=new P(this.getId()+"--Panel",{expanded:this.getExpanded(),expandable:true,headerText:this.getTitle(),expandAnimation:false});this._oPanel.getHeaderToolbar=function(){var i=this.getParent();if(i){return i._getToolbar();}};this._oPanel.attachExpand(z,this);this.setAggregation("content",this._oPanel);this._oPanel.addContent(this._oForm);}function y(i){P=i;this._bPanelRequested=false;if(this.getExpandable()&&!this._bIsBeingDestroyed){x.call(this);}}function z(i){this.setProperty("expanded",i.getParameter("expand"),true);}function A(i){if(this._oPanel){this._oPanel.setExpanded(i);}}function D(j,k){var q1=this.getGroups();for(var i=0;i<q1.length;i++){if(k==="insert"){G.call(this,q1[i],j);}else{H.call(this,q1[i],j.getId());}}}function E(j){var k=this.getCustomData();for(var i=0;i<k.length;i++){G.call(this,j,k[i]);}}function G(i,j){if(l.smartform.inheritCostomDataToFields(j)){var k=j.clone();k._bFromSmartForm=true;k._sOriginalId=j.getId();i.addCustomData(k);}}function H(j,k){var q1=j.getCustomData();for(var i=0;i<q1.length;i++){var r1=q1[i];if(r1._bFromSmartForm&&(!k||k==r1._sOriginalId)){j.removeCustomData(r1);}}}function I(j,k){var q1;if(Array.isArray(j)){q1=j;}else{q1=[j];}for(var i=0;i<q1.length;i++){var r1=q1[i];if(k==="insert"){this._oForm.addAriaLabelledBy(r1);}else{this._oForm.removeAriaLabelledBy(r1);}}}d.prototype.getSmartFields=function(q1,r1){var s1=[];var t1=[];var u1=[];var v1=[];if(q1===undefined){q1=true;}s1=this.getGroups();for(var i=0;i<s1.length;i++){var w1=s1[i];if(!q1||(q1&&w1.isVisible())){t1=w1.getGroupElements();for(var j=0;j<t1.length;j++){var x1=t1[j];if(!r1||(r1&&x1.isVisible())){u1=x1.getElements();for(var k=0;k<u1.length;k++){var y1=u1[k];if(y1.isA("sap.ui.comp.smartfield.SmartField")){v1.push(y1);}}}}}}return v1;};d.prototype.setFocusOnEditableControl=function(){var i=[];this.getGroups().forEach(function(j){if(j.isVisible()){j.getGroupElements().forEach(function(k){if(k.isVisible()){i=i.concat(k.getElements());}});}});i.some(function(j){if(j.getEditable&&j.getEditable()&&j.focus&&j.getVisible()){if(j.isA("sap.ui.comp.smartfield.SmartField")){j.attachEventOnce("innerControlsCreated",function(k){setTimeout(k.oSource._oControl[k.oSource._oControl.current]["focus"].bind(k.oSource._oControl[k.oSource._oControl.current]),0);});}else{j.focus();}return true;}});};d.prototype.clone=function(j,k){this.setAggregation("content",null);var q1=this.getAggregation("toolbar");var r1=this.getCustomToolbar();var s1=this.getCustomData();var t1=this.getGroups();var i=0;if(r1){U.call(this);Y.call(this);$.call(this);}else if(q1){this.setAggregation("toolbar",null);}if(s1.length>0){for(i=0;i<t1.length;i++){H.call(this,t1[i]);}}var u1=C.prototype.clone.apply(this,arguments);for(i=0;i<t1.length;i++){var v1=t1[i].clone(j,k);u1.addGroup(v1);}if(this.getExpandable()&&this._oPanel){this.setAggregation("content",this._oPanel);}else{this.setAggregation("content",this._oForm);}if(r1){if(this.getTitle()){N.call(this);}if(this.getEditTogglable()){X.call(this);}if(this.getCheckButton()){Z.call(this);}}else if(q1){this.setAggregation("toolbar",q1);}if(s1.length>0){for(i=0;i<t1.length;i++){E.call(this,t1[i]);}}return u1;};d.prototype.exit=function(){if(this._oForm){this._oForm.destroy();}if(this._oPanel){this._oPanel.destroy();}if(this._oTitle){this._oTitle.destroy();}if(this._oEditToggleButton){this._oEditToggleButton.destroy();}this._oForm=null;this._oPanel=null;this._oTitle=null;this._oRb=null;this._oEditToggleButton=null;this._oObserver.disconnect();this._oObserver=undefined;};function J(){var i=this.getAggregation("toolbar");if(!i){i=new O(this.getId()+"-toolbar-sfmain",{"height":"3rem","design":m.ToolbarDesign.Transparent});i._bCreatedBySmartForm=true;this.setAggregation("toolbar",i);}return i;}function K(i){var j=this.getAggregation("toolbar");if(j){if(i){var k=j.getContent();if(k.length>0){return;}}this.destroyAggregation("toolbar");}}function N(){var i=this.getTitle();if(i){if(!this.getCustomToolbar()&&!this.getCheckButton()&&!this.getEditTogglable()){if(this._oTitle){if(this._getToolbar()){U.call(this);}this._oForm.removeAriaLabelledBy(this._oTitle);this._oTitle.destroy();this._oTitle=null;}if(!this._oPanel){this._oForm.setTitle(i);}}else{this._oForm.setTitle();if(!this._oTitle){if((!T||!O||!a||!b||!m)&&!this._bTitleRequested){T=sap.ui.require("sap/m/Title");O=sap.ui.require("sap/m/OverflowToolbar");a=sap.ui.require("sap/m/ToolbarSpacer");b=sap.ui.require("sap/m/ToolbarSeparator");m=sap.ui.require("sap/m/library");if(!T||!O||!a||!b||!m){sap.ui.require(["sap/m/Title",'sap/m/OverflowToolbar','sap/m/ToolbarSpacer','sap/m/ToolbarSeparator',"sap/m/library"],Q.bind(this));this._bTitleRequested=true;}}if(T&&!this._bTitleRequested){this._oTitle=new T(this.getId()+"-title-sfmain");}}if(this._oTitle){this._oTitle.setText(i);this._oForm.addAriaLabelledBy(this._oTitle);R.call(this);}}}else{if(this._oTitle){U.call(this);this._oForm.removeAriaLabelledBy(this._oTitle);this._oTitle.destroy();this._oTitle=null;}else{this._oForm.setTitle();}}}function Q(i,j,k,q1,r1){T=i;O=j;a=k;b=q1;m=r1;this._bTitleRequested=false;if(!this._bIsBeingDestroyed){N.call(this);}}function R(){if(!this._oTitle){return;}var i=this._getToolbar();if(!i){i=J.call(this);}i.insertContent(this._oTitle,0);}function U(){if(!this._oTitle){return;}var i=this._getToolbar();i.removeContent(this._oTitle);K.call(this,true);}function V(){if((!B||!O||!a||!b||!m)&&!this._bButtonRequested){B=sap.ui.require("sap/m/Button");O=sap.ui.require("sap/m/OverflowToolbar");a=sap.ui.require("sap/m/ToolbarSpacer");b=sap.ui.require("sap/m/ToolbarSeparator");m=sap.ui.require("sap/m/library");if(!B||!O||!a||!b||!m){sap.ui.require(["sap/m/Button",'sap/m/OverflowToolbar','sap/m/ToolbarSpacer','sap/m/ToolbarSeparator',"sap/m/library"],W.bind(this));this._bButtonRequested=true;}}if(B&&!this._bButtonRequested){return true;}return false;}function W(i,j,k,q1,r1){B=i;O=j;a=k;b=q1;m=r1;this._bButtonRequested=false;if(!this._bIsBeingDestroyed){if(this._bEditRequested){this._bEditRequested=false;X.call(this);}if(this._bCheckRequested){this._bCheckRequested=false;Z.call(this);}}}function X(){if(!this.getEditTogglable()){return;}if(!V.call(this)){this._bEditRequested=true;return;}var i=this._getToolbar();if(!i){i=J.call(this);}if(!this._oCheckButton){c1.call(this,i);}if(!this._oEditToggleButton){var j=this.getEditable()?"sap-icon://display":"sap-icon://edit";var k=this._oRb.getText(this.getEditable()?"FORM_TOOLTIP_DISPLAY":"FORM_TOOLTIP_EDIT");this._oEditToggleButton=new B(i.getId()+"-button-sfmain-editToggle",{icon:j,tooltip:k});this._oEditToggleButton.attachPress(this._toggleEditMode,this);}var q1=i.getContent().length;if(this._oCheckButton){q1--;}i.insertContent(this._oEditToggleButton,q1);}function Y(){if(!this._oEditToggleButton){return;}var i=this._getToolbar();i.removeContent(this._oEditToggleButton);this._oEditToggleButton.destroy();this._oEditToggleButton=null;d1.call(this,i);K.call(this,true);}function Z(){if(!this.getCheckButton()||!this.getEditable()){return;}if(!V.call(this)){this._bCheckRequested=true;return;}var i=this._getToolbar();if(!i){i=J.call(this);}if(!this._oEditToggleButton){c1.call(this,i);}if(!this._oCheckButton){this._oCheckButton=new B(this.getId()+"-"+i.getId()+"-button-sfmain-check",{text:this._oRb.getText("SMART_FORM_CHECK")});this._oCheckButton.attachPress((this.getValidationMode()===S.Standard)?a1:b1,this);}var j=i.getContent().length;i.insertContent(this._oCheckButton,j);}function $(){if(!this._oCheckButton){return;}var i=this._getToolbar();i.removeContent(this._oCheckButton);this._oCheckButton.destroy();this._oCheckButton=null;d1.call(this,i);K.call(this,true);}function a1(i){var j=[];j=this.check(true);this.fireChecked({erroneousFields:j});}function b1(i){this.check(true).then(function(j){this.fireChecked({erroneousFields:j});}.bind(this));}function c1(j){var k;if(!j._bCreatedBySmartForm){var q1=j.getContent();var r1=false;for(var i=0;i<q1.length;i++){if(q1[i]instanceof a){r1=true;break;}}if(!r1){k=new a(this.getId()+"-"+j.getId()+"-spacer");k._bCreatedBySmartForm=true;j.addContent(k);}if(!(q1[q1.length-1]instanceof b)){var s1=new b(this.getId()+"-"+j.getId()+"-separator");s1._bCreatedBySmartForm=true;j.addContent(s1);}}else{k=new a(j.getId()+"-spacer");k._bCreatedBySmartForm=true;j.addContent(k);}}function d1(i){var j=i.getContent();var k;if(!i._bCreatedBySmartForm){k=j[j.length-1];if(k instanceof b&&k._bCreatedBySmartForm){k.destroy();}j=i.getContent();}k=j[j.length-1];if(k instanceof a&&k._bCreatedBySmartForm){k.destroy();}}function e1(i,j){if(!i.layout&&!i.requested){i.layout=sap.ui.require(i.path);if(!i.layout){i.promise=new Promise(function(k){sap.ui.require([i.path],i.loaded.bind(this));i.resolve=k;i.requestIds=[this.getId()];}.bind(this));i.requested=true;}}else if(!i.layout&&i.requested&&i.promise&&i.requestIds.indexOf(this.getId())<0){i.promise.then(function(){if(!this._bIsBeingDestroyed){f1.call(this);}}.bind(this));i.requestIds.push(this.getId());}if(i.layout&&!i.requested&&!(j instanceof i.layout)){if(j){j.destroy();}j=new i.layout(this._oForm.getId()+"-layout");this._oForm.setLayout(j);return true;}return false;}function f1(){var j=this.getLayout();var k=this._oForm.getLayout();var q1=this.getUseHorizontalLayout();var r1=false;if(j&&j.isA("sap.ui.comp.smartform.ColumnLayout")){if(q1){throw new Error("ColumnLayout and useHorizontalLayout must not ne used at the same time on "+this);}r1=e1.call(this,f.ColumnLayout,k);if(r1){o1.call(this,j);}}else if(q1&&(!j||!j.getGridDataSpan())){r1=e1.call(this,f.ResponsiveLayout,k);}else if(!k||!f.ResponsiveGridLayout.layout||!(k instanceof f.ResponsiveGridLayout.layout)){r1=e1.call(this,f.ResponsiveGridLayout,k);if(r1){this._oFormLayoutNotInitial=true;l1.call(this,j);}}if(r1){var s1=this.getGroups();for(var i=0;i<s1.length;i++){var t1=s1[i];t1._updateLayoutData();}}}function g1(i,j){i.layout=j;i.requested=false;i.resolve();delete i.resolve;delete i.requestIds;i.promise=undefined;if(!this._bIsBeingDestroyed){f1.call(this);}}function h1(i){g1.call(this,f.ResponsiveGridLayout,i);}function i1(i){g1.call(this,f.ResponsiveLayout,i);}function j1(i){g1.call(this,f.ColumnLayout,i);}function k1(i){if(!i||i.isA("sap.ui.comp.smartform.Layout")){l1.call(this,i);}else if(i.isA("sap.ui.comp.smartform.ColumnLayout")){o1.call(this,i);}}function l1(i){var j=this._oForm.getLayout();if(!j||!j.isA(f.ResponsiveGridLayout.name)){return;}if(this.getUseHorizontalLayout()){if(i&&i.getGridDataSpan()){n1.call(this,j);j.setColumnsL(1);j.setColumnsM(1);if(i.getBreakpointM()>0){j.setBreakpointM(i.getBreakpointM());}if(i.getBreakpointL()>0){j.setBreakpointL(i.getBreakpointL());}if(i.getBreakpointXL()>0){j.setBreakpointXL(i.getBreakpointXL());}this._oFormLayoutNotInitial=true;}}else{if(i){j.setLabelSpanXL(i.getLabelSpanXL()?i.getLabelSpanXL():-1);j.setLabelSpanL(i.getLabelSpanL()?i.getLabelSpanL():4);j.setLabelSpanM(i.getLabelSpanM()?i.getLabelSpanM():4);j.setLabelSpanS(i.getLabelSpanS()?i.getLabelSpanS():12);j.setEmptySpanXL(i.getEmptySpanXL()?i.getEmptySpanXL():-1);j.setEmptySpanL(i.getEmptySpanL()?i.getEmptySpanL():0);j.setEmptySpanM(i.getEmptySpanM()?i.getEmptySpanM():0);j.setColumnsXL(i.getColumnsXL()?i.getColumnsXL():-1);j.setColumnsL(i.getColumnsL()?i.getColumnsL():3);j.setColumnsM(i.getColumnsM()?i.getColumnsM():2);j.setSingleContainerFullSize(i.getSingleGroupFullSize());j.setBreakpointXL(i.getBreakpointXL()?i.getBreakpointXL():1440);j.setBreakpointL(i.getBreakpointL()?i.getBreakpointL():1024);j.setBreakpointM(i.getBreakpointM()?i.getBreakpointM():600);this._oFormLayoutNotInitial=true;}else{n1.call(this,j);}m1.call(this,i,j);}}function m1(j,k){if(this.getUseHorizontalLayout()){return;}if(!k){k=this._oForm.getLayout();j=this.getLayout();}if(!k||!k.isA(f.ResponsiveGridLayout.name)){return;}var q1=this.getGroups();var r1=-1;var s1=3;var t1=true;var u1=0;for(var i=0;i<q1.length;i++){if(q1[i].isVisible()){u1++;}}if(j){s1=j.getColumnsL()?j.getColumnsL():3;r1=(j.getColumnsXL()>0)?j.getColumnsXL():-1;t1=j.getSingleGroupFullSize();}if(q1&&u1>0&&u1<r1&&t1){k.setColumnsXL(u1);}else if(k.getColumnsXL()!=r1){k.setColumnsXL(r1);}if(q1&&u1>0&&u1<s1&&t1){k.setColumnsL(u1);}else if(k.getColumnsL()!=s1){k.setColumnsL(s1);}}function n1(i){if(this._oFormLayoutNotInitial){i.setLabelSpanXL(-1);i.setLabelSpanL(4);i.setLabelSpanM(4);i.setLabelSpanS(12);i.setEmptySpanXL(-1);i.setEmptySpanL(0);i.setEmptySpanM(0);i.setColumnsXL(-1);i.setColumnsL(3);i.setColumnsM(2);i.setSingleContainerFullSize(true);i.setBreakpointXL(1440);i.setBreakpointL(1024);i.setBreakpointM(600);this._oFormLayoutNotInitial=false;}}function o1(i){var j=this._oForm.getLayout();if(!j||!j.isA(f.ColumnLayout.name)){return;}if(this.getUseHorizontalLayout()){throw new Error("ColumnLayout and useHorizontalLayout must not ne used at the same time on "+this);}else{j.setColumnsXL(i.getColumnsXL());j.setColumnsL(i.getColumnsL());j.setColumnsM(i.getColumnsM());j.setLabelCellsLarge(i.getLabelCellsLarge());j.setEmptyCellsLarge(i.getEmptyCellsLarge());}}function p1(i,j,k,q1){k1.call(this,i);if(j==="gridDataSpan"){this.propagateGridDataSpan();if(k===""||q1===""){f1.call(this);}}}d.prototype._suggestTitleId=function(i){this._oForm._suggestTitleId(i);return this;};return d;});
